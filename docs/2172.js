"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[2172],{60559:(e,t,n)=>{n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},98535:(e,t,n)=>{n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},50607:(e,t,n)=>{n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},42294:(e,t,n)=>{n.d(t,{JM:()=>Z,c$:()=>te,Ay:()=>Fe});var o=n(89893),r=n(76536),l=n(96540),s=n(34164),a=n(37322);const c=l.createContext(null);function i(){return l.useContext(c)}var u=n(34294);function p(e,t){return e.filter((e=>e)).some((e=>e.contains(t)||e===t))}var f=n(89311);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}const m=(e,t)=>{const{prefixCls:n,disabled:o,visible:r,children:a,popupElement:c,animation:i,transitionName:u,popupStyle:p,popupClassName:m,direction:h="ltr",placement:v,builtinPlacements:g,popupMatchSelectWidth:b,popupRender:y,popupAlign:w,getPopupContainer:E,empty:S,onPopupVisibleChange:x,onPopupMouseEnter:M,onPopupMouseDown:A,onPopupBlur:C,...R}=e,O=`${n}-dropdown`;let N=c;y&&(N=y(c));const $=l.useMemo((()=>g||(e=>{const t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}})(b)),[g,b]),P=i?`${O}-${i}`:u,D="number"==typeof b,I=l.useMemo((()=>D?null:!1===b?"minWidth":"width"),[b,D]);let L=p;D&&(L={...p,width:b});const k=l.useRef(null);return l.useImperativeHandle(t,(()=>({getPopupElement:()=>k.current?.popupElement}))),l.createElement(f.Ay,d({},R,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:v||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:$,prefixCls:O,popupMotion:{motionName:P},popup:l.createElement("div",{onMouseEnter:M,onMouseDown:A,onBlur:C},N),ref:k,stretch:I,popupAlign:w,popupVisible:r,getPopupContainer:E,popupClassName:(0,s.$)(m,{[`${O}-empty`]:S}),popupStyle:L,onPopupVisibleChange:x}),a)};const h=l.forwardRef(m);function v(e,t){const{key:n}=e;let o;return"value"in e&&({value:o}=e),null!=n?n:void 0!==o?o:`rc-index-key-${t}`}function g(e){return void 0!==e&&!Number.isNaN(e)}function b(e,t){const{label:n,value:o,options:r,groupLabel:l}=e||{},s=n||(t?"children":"label");return{label:s,value:o||"value",options:r||"options",groupLabel:l||s}}function y(e){const t={...e};return"props"in t||Object.defineProperty(t,"props",{get:()=>((0,r.Ay)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t)}),t}function w(e){const{visible:t,values:n}=e;if(!t)return null;return l.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},`${n.slice(0,50).map((({label:e,value:t})=>["number","string"].includes(typeof e)?e:t)).join(", ")}`,n.length>50?", ...":null)}const E=(e,t=1)=>{t<=0?e():(e=>{const t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(null)})((()=>{E(e,t-1)}))};function S(e){const{children:t,...n}=e;return t?l.createElement("div",n,t):null}var x=n(87795);const M=l.createContext(null);function A(){return l.useContext(M)}const C=M;var R=n(12847),O=n(1713);const N=l.forwardRef(((e,t)=>{const{onChange:n,onKeyDown:o,onBlur:r,style:a,syncWidth:c,value:u,className:p,autoComplete:f,...d}=e,{prefixCls:m,mode:h,onSearch:v,onSearchSubmit:g,onInputBlur:b,autoFocus:y,tokenWithEnter:w,placeholder:E,components:{input:S="input"}}=A(),{id:x,classNames:M,styles:C,open:N,activeDescendantId:$,role:P,disabled:D}=i()||{},I=(0,s.$)(`${m}-input`,M?.input,p),L=l.useRef(!1),k=l.useRef(null),T=l.useRef(null);l.useImperativeHandle(t,(()=>T.current));const[V,_]=l.useState(void 0);(0,R.A)((()=>{const e=T.current;if(c&&e){e.style.width="0px";const t=e.scrollWidth;_(t),e.style.width=""}}),[c,u]);const j={id:x,type:"combobox"===h?"text":"search",...d,ref:T,style:{...C?.input,...a,"--select-input-width":V},autoFocus:y,autoComplete:f||"off",className:I,disabled:D,value:u||"",onChange:e=>{let{value:t}=e.target;if(w&&k.current&&/[\r\n]/.test(k.current)){const e=k.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(e,k.current)}k.current=null,v&&v(t,!0,L.current),n?.(e)},onKeyDown:e=>{const{key:t}=e,{value:n}=e.currentTarget;"Enter"===t&&"tags"===h&&!L.current&&g&&g(n),o?.(e)},onBlur:e=>{b?.(),r?.(e)},onPaste:e=>{const{clipboardData:t}=e,n=t?.getData("text");k.current=n||""},onCompositionStart:()=>{L.current=!0},onCompositionEnd:e=>{if(L.current=!1,"combobox"!==h){const{value:t}=e.currentTarget;v?.(t,!0,!1)}},role:P||"combobox","aria-expanded":N||!1,"aria-haspopup":"listbox","aria-owns":N?`${x}_list`:void 0,"aria-autocomplete":"list","aria-controls":N?`${x}_list`:void 0,"aria-activedescendant":N?$:void 0};if(l.isValidElement(S)){const t=S.props||{},n={placeholder:e.placeholder||E,...j,...t};return Object.keys(t).forEach((e=>{const o=t[e];"function"==typeof o&&(n[e]=(...t)=>{o(...t),j[e]?.(...t)})})),n.ref=(0,O.K4)(S.ref,j.ref),l.cloneElement(S,n)}const H=S;return l.createElement(H,j)}));function $(e){const{prefixCls:t,placeholder:n,displayValues:o}=A(),{classNames:r,styles:a}=i(),{show:c=!0}=e;return o.length?null:l.createElement("div",{className:(0,s.$)(`${t}-placeholder`,r?.placeholder),style:{visibility:c?"visible":"hidden",...a?.placeholder}},n)}const P=l.createContext(null);function D(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}"undefined"!=typeof window&&window.document&&window.document.documentElement;function I(e){return["string","number"].includes(typeof e)}function L(e){let t;return e&&(I(e.title)?t=e.title.toString():I(e.label)&&(t=e.label.toString())),t}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k.apply(this,arguments)}const T=l.forwardRef((({inputProps:e},t)=>{const{prefixCls:n,searchValue:o,activeValue:r,displayValues:a,maxLength:c,mode:u}=A(),{triggerOpen:p,title:f,showSearch:d,classNames:m,styles:h}=i(),v=l.useContext(P),[g,b]=l.useState(!1),y="combobox"===u,w=a[0],E=l.useMemo((()=>y&&r&&!g&&p?r:d?o:""),[y,r,g,p,o,d]),S=l.useMemo((()=>{const e={className:`${n}-content-value`,style:{visibility:E?"hidden":"visible"}};if(w&&v?.flattenOptions){const t=v.flattenOptions.find((e=>e.value===w.value));if(t?.data){const{className:n,style:o}=t.data;Object.assign(e,{title:L(t.data),className:(0,s.$)(e.className,n),style:{...e.style,...o}})}}return w&&!e.title&&(e.title=L(w)),void 0!==f&&(e.title=f),e}),[w,v?.flattenOptions,n,E,f]);return l.useEffect((()=>{y&&b(!1)}),[y,r]),l.createElement("div",{className:(0,s.$)(`${n}-content`,m?.content),style:h?.content},w?l.createElement("div",S,w.label):l.createElement($,{show:!E}),l.createElement(N,k({ref:t},e,{value:E,maxLength:"combobox"===u?c:void 0,onChange:t=>{b(!0),e.onChange?.(t)}})))}));var V=n(53997);const _=e=>{const{className:t,style:n,customizeIcon:o,customizeIconProps:r,children:a,onMouseDown:c,onClick:i}=e,u="function"==typeof o?o(r):o;return l.createElement("span",{className:t,onMouseDown:e=>{e.preventDefault(),c?.(e)},style:{userSelect:"none",WebkitUserSelect:"none",...n},unselectable:"on",onClick:i,"aria-hidden":!0},void 0!==u?u:l.createElement("span",{className:(0,s.$)(t.split(/\s+/).map((e=>`${e}-icon`)))},a))};function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}function H(e){return e.key??e.value}const z=e=>{e.preventDefault(),e.stopPropagation()},F=l.forwardRef((function({inputProps:e},t){const{prefixCls:n,displayValues:o,searchValue:r,mode:a,onSelectorRemove:c,removeIcon:u}=A(),{disabled:p,showSearch:f,triggerOpen:d,toggleOpen:m,autoClearSearchValue:h,tagRender:v,maxTagPlaceholder:g,maxTagTextLength:b,maxTagCount:y,classNames:w,styles:E}=i(),S=`${n}-selection-item`;let x=r;d||"multiple"!==a||!1===h||(x="");const M=f&&x||"",C=f&&!p,R=u??"×",O=g??(e=>`+ ${e.length} ...`),P=v,D=(e,t,n,o,r)=>l.createElement("span",{title:L(e),className:(0,s.$)(S,{[`${S}-disabled`]:n},w?.item),style:E?.item},l.createElement("span",{className:(0,s.$)(`${S}-content`,w?.itemContent),style:E?.itemContent},t),o&&l.createElement(_,{className:(0,s.$)(`${S}-remove`,w?.itemRemove),style:E?.itemRemove,onMouseDown:z,onClick:r,customizeIcon:R},"×")),I=(e,t,n,o,r,s,a)=>l.createElement("span",{onMouseDown:e=>{z(e),m(!d)}},P({label:t,value:e,index:a?.index,disabled:n,closable:o,onClose:r,isMaxTag:!!s}));return l.createElement(V.A,{prefixCls:`${n}-content`,className:w?.content,style:E?.content,prefix:!o.length&&!M&&l.createElement($,null),data:o,renderItem:(e,t)=>{const{disabled:n,label:o,value:r}=e,l=!p&&!n;let s=o;if("number"==typeof b&&("string"==typeof o||"number"==typeof o)){const e=String(s);e.length>b&&(s=`${e.slice(0,b)}...`)}const a=t=>{t&&t.stopPropagation(),(e=>{c?.(e)})(e)};return"function"==typeof P?I(r,s,n,l,a,void 0,t):D(e,s,n,l,a)},renderRest:e=>{if(!o.length)return null;const t="function"==typeof O?O(e):O;return"function"==typeof P?I(void 0,t,!1,!1,void 0,!0):D({title:t},t,!1)},suffix:l.createElement(N,j({ref:t,disabled:p,readOnly:!C},e,{value:M||"",syncWidth:!0})),itemKey:H,maxCount:y})})),B=l.forwardRef((function(e,t){const{multiple:n,onInputKeyDown:o,tabIndex:r}=A(),s=i(),{showSearch:a}=s,c={...(0,x.A)(s,{aria:!0}),onKeyDown:o,readOnly:!a,tabIndex:r};return n?l.createElement(F,{ref:t,inputProps:c}):l.createElement(T,{ref:t,inputProps:c})}));var K=n(88558);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},W.apply(this,arguments)}const Y=["value","onChange","removeIcon","placeholder","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex","activeValue","onSelectorRemove","focused"],X=l.forwardRef((function(e,t){const{prefixCls:n,className:o,style:r,prefix:c,suffix:p,clearIcon:f,children:d,multiple:m,displayValues:h,placeholder:v,mode:g,searchValue:b,onSearch:y,onSearchSubmit:w,onInputBlur:E,maxLength:M,autoFocus:A,onMouseDown:R,onClearMouseDown:N,onInputKeyDown:$,onSelectorRemove:P,tokenWithEnter:D,components:I,...L}=e,{triggerOpen:k,toggleOpen:T,showSearch:V,disabled:_,loading:j,classNames:H,styles:z}=i(),F=l.useRef(null),X=l.useRef(null),U=(0,u._q)((e=>{const{which:t}=e,n=X.current instanceof HTMLTextAreaElement;if(n||!k||t!==K.A.UP&&t!==K.A.DOWN||e.preventDefault(),$&&$(e),n&&!k&&~[K.A.UP,K.A.DOWN,K.A.LEFT,K.A.RIGHT].indexOf(t))return;var o;e.ctrlKey||e.altKey||e.metaKey||(!(o=t)||[K.A.ESC,K.A.SHIFT,K.A.BACKSPACE,K.A.TAB,K.A.WIN_KEY,K.A.ALT,K.A.META,K.A.WIN_KEY_RIGHT,K.A.CTRL,K.A.SEMICOLON,K.A.EQUALS,K.A.CAPS_LOCK,K.A.CONTEXT_MENU,K.A.UP,K.A.LEFT,K.A.RIGHT,K.A.F1,K.A.F2,K.A.F3,K.A.F4,K.A.F5,K.A.F6,K.A.F7,K.A.F8,K.A.F9,K.A.F10,K.A.F11,K.A.F12].includes(o))||T(!0)}));l.useImperativeHandle(t,(()=>({focus:e=>{(X.current||F.current).focus?.(e)},blur:()=>{(X.current||F.current).blur?.()},nativeElement:F.current})));const q=(0,u._q)((e=>{if(!_){const t=(0,a.rb)(X.current);e.nativeEvent._ori_target=t,t&&e.target!==t&&!t.contains(e.target)&&e.preventDefault();const n=k&&!m&&("combobox"===g||V);e.nativeEvent._select_lazy?k&&T(!1):(X.current?.focus(),n||T())}R?.(e)})),{root:G}=I,J=(0,u.cJ)(L,Y),Q=(0,x.A)(J,{aria:!0}),Z=Object.keys(Q),ee={...e,onInputKeyDown:U};return G?l.isValidElement(G)?l.cloneElement(G,{...J,ref:(0,O.K4)(G.ref,F)}):l.createElement(G,W({},J,{ref:F})):l.createElement(C.Provider,{value:ee},l.createElement("div",W({},(0,u.cJ)(J,Z),{ref:F,className:o,style:r,onMouseDown:q}),l.createElement(S,{className:(0,s.$)(`${n}-prefix`,H?.prefix),style:z?.prefix},c),l.createElement(B,{ref:X}),l.createElement(S,{className:(0,s.$)(`${n}-suffix`,{[`${n}-suffix-loading`]:j},H?.suffix),style:z?.suffix},p),f&&l.createElement(S,{className:(0,s.$)(`${n}-clear`,H?.clear),style:z?.clear,onMouseDown:e=>{e.nativeEvent._select_lazy=!0,N?.(e)}},f),d))}));function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}const q=e=>"tags"===e||"multiple"===e,G=l.forwardRef(((e,t)=>{const{id:n,prefixCls:o,className:r,styles:i,classNames:f,showSearch:d,tagRender:m,showScrollBar:v="optional",direction:b,omitDomProps:y,displayValues:S,onDisplayValuesChange:x,emptyOptions:M,notFoundContent:A="Not Found",onClear:C,maxCount:R,placeholder:O,mode:N,disabled:$,loading:P,getInputElement:D,getRawInputElement:I,open:L,defaultOpen:k,onPopupVisibleChange:T,activeValue:V,onActiveValueChange:_,activeDescendantId:j,searchValue:H,autoClearSearchValue:z,onSearch:F,onSearchSplit:B,tokenSeparators:K,allowClear:W,prefix:Y,suffix:G,suffixIcon:J,clearIcon:Q,OptionList:Z,animation:ee,transitionName:te,popupStyle:ne,popupClassName:oe,popupMatchSelectWidth:re,popupRender:le,popupAlign:se,placement:ae,builtinPlacements:ce,getPopupContainer:ie,showAction:ue=[],onFocus:pe,onBlur:fe,onKeyUp:de,onKeyDown:me,onMouseDown:he,components:ve,...ge}=e,be=q(N),ye=l.useRef(null),we=l.useRef(null),Ee=l.useRef(null),[Se,xe]=l.useState(!1);l.useImperativeHandle(t,(()=>({focus:ye.current?.focus,blur:ye.current?.blur,scrollTo:e=>Ee.current?.scrollTo(e),nativeElement:(0,a.rb)(ye.current)})));const Me=function(e,t,n){return l.useMemo((()=>{let{root:o,input:r}=e||{};return n&&(o=n()),t&&(r=t()),{root:o,input:r}}),[e,t,n])}(ve,D,I),Ae=l.useMemo((()=>{if("combobox"!==N)return H;const e=S[0]?.value;return"string"==typeof e||"number"==typeof e?String(e):""}),[H,N,S]),Ce="combobox"===N&&"function"==typeof D&&D()||null,Re=!A&&M,[Oe,Ne]=function(e,t,n,o){const[r,s]=(0,l.useState)(!1);(0,l.useEffect)((()=>{s(!0)}),[]);const[a,c]=(0,u.PW)(e,t),i=o(!!r&&a),p=(0,l.useRef)(0),f=(0,u._q)((e=>{n&&i!==e&&n(e),c(e)})),d=(0,u._q)(((e,t={})=>{const{cancelFun:n}=t;p.current+=1;const o=p.current,r="boolean"==typeof e?e:!i;function l(){o!==p.current||n?.()||f(r)}r?l():E((()=>{l()}))}));return[i,d]}(k||!1,L,T,(e=>!$&&!Re&&e)),$e=l.useMemo((()=>(K||[]).some((e=>["\n","\r\n"].includes(e)))),[K]),Pe=(e,t,n)=>{if(be&&g(R)&&S.length>=R)return;let o=!0,r=e;_?.(null);const l=((e,t,n)=>{if(!t||!t.length)return null;let o=!1;const r=(e,[t,...n])=>{if(!t)return[e];const l=e.split(t);return o=o||l.length>1,l.reduce(((e,t)=>[...e,...r(t,n)]),[]).filter(Boolean)},l=r(e,t);return o?void 0!==n?l.slice(0,n):l:null})(e,K,g(R)?R-S.length:void 0),s=n?null:l;return"combobox"!==N&&s&&(r="",B?.(s),Ne(!1),o=!1),F&&Ae!==r&&F(r,{source:t?"typing":"effect"}),e&&t&&o&&Ne(!0),o};l.useEffect((()=>{Oe||be||"combobox"===N||Pe("",!1,!1)}),[Oe]),l.useEffect((()=>{$&&(Ne(!1),xe(!1))}),[$,Oe]);const[De,Ie]=function(e=250){const t=l.useRef(null),n=l.useRef(null);return l.useEffect((()=>()=>{window.clearTimeout(n.current)}),[]),[()=>t.current,function(o){(o||null===t.current)&&(t.current=o),window.clearTimeout(n.current),n.current=window.setTimeout((()=>{t.current=null}),e)}]}(),Le=l.useRef(!1),ke=(0,u._q)((e=>{const t=S.filter((t=>t!==e));x(t,{type:"remove",values:[e]})})),Te=()=>[(0,a.rb)(ye.current),we.current?.getPopupElement()];!function(e,t,n,o){const r=(0,u._q)((r=>{if(o)return;let l=r.target;l.shadowRoot&&r.composed&&(l=r.composedPath()[0]||l),r._ori_target&&(l=r._ori_target),t&&!p(e(),l)&&n(!1)}));l.useEffect((()=>(window.addEventListener("mousedown",r),()=>window.removeEventListener("mousedown",r))),[r])}(Te,Oe,Ne,!!Me.root);const Ve=l.useRef(!1),_e=()=>{Oe&&!Ve.current&&Ne(!1,{cancelFun:()=>p(Te(),document.activeElement)})},je=(e,...t)=>{const{target:n}=e,o=we.current?.getPopupElement();o?.contains(n)&&Ne&&Ne(!0),he?.(e,...t),Ve.current=!0,E((()=>{Ve.current=!1}))},[,He]=l.useState({});let ze;Me.root&&(ze=e=>{Ne(e)});const Fe=l.useMemo((()=>({...e,notFoundContent:A,open:Oe,triggerOpen:Oe,id:n,showSearch:d,multiple:be,toggleOpen:Ne,showScrollBar:v,styles:i,classNames:f})),[e,A,Ne,n,d,be,Oe,v,i,f]),Be=l.useMemo((()=>{const e=G??J;return"function"==typeof e?e({searchValue:Ae,open:Oe,focused:Se,showSearch:d,loading:P}):e}),[G,J,Ae,Oe,Se,d,P]),{allowClear:Ke,clearIcon:We}=((e,t,n,o,r=!1,s,a)=>{const c=(0,l.useMemo)((()=>"boolean"==typeof n?{allowClear:n}:n&&"object"==typeof n?n:{allowClear:!1}),[n]);return(0,l.useMemo)((()=>{const e=!r&&!1!==c.allowClear&&(t.length||s)&&!("combobox"===a&&""===s);return{allowClear:e,clearIcon:e?c.clearIcon||o||"×":null}}),[c,o,r,t.length,s,a])})(0,S,W,Q,$,Ae,N),Ye=l.createElement(Z,{ref:Ee}),Xe=(0,s.$)(o,r,{[`${o}-focused`]:Se,[`${o}-multiple`]:be,[`${o}-single`]:!be,[`${o}-allow-clear`]:Ke,[`${o}-show-arrow`]:null!=Be,[`${o}-disabled`]:$,[`${o}-loading`]:P,[`${o}-open`]:Oe,[`${o}-customize-input`]:Ce,[`${o}-show-search`]:d});let Ue=l.createElement(X,U({},ge,{ref:ye,prefixCls:o,className:Xe,focused:Se,prefix:Y,suffix:Be,clearIcon:We,multiple:be,mode:N,displayValues:S,placeholder:O,searchValue:Ae,activeValue:V,onSearch:Pe,onSearchSubmit:e=>{e&&e.trim()&&F(e,{source:"submit"})},onInputBlur:()=>{Le.current=!1},onFocus:e=>{xe(!0),$||(ue.includes("focus")&&Ne(!0),pe?.(e))},onBlur:e=>{xe(!1),Ae&&("tags"===N?F(Ae,{source:"submit"}):"multiple"===N&&F("",{source:"blur"})),_e(),$||fe?.(e)},onClearMouseDown:()=>{C?.(),ye.current?.focus(),x([],{type:"clear",values:S}),Pe("",!1,!1)},onKeyDown:e=>{const t=De(),{key:n}=e,o="Enter"===n;if(o&&("combobox"!==N&&e.preventDefault(),Oe||Ne(!0)),Ie(!!Ae),"Backspace"===n&&!t&&be&&!Ae&&S.length){const e=[...S];let t=null;for(let n=e.length-1;n>=0;n-=1){const o=e[n];if(!o.disabled){e.splice(n,1),t=o;break}}t&&x(e,{type:"remove",values:[t]})}!Oe||o&&Le.current||(o&&(Le.current=!0),Ee.current?.onKeyDown(e)),me?.(e)},onKeyUp:(e,...t)=>{Oe&&Ee.current?.onKeyUp(e,...t),"Enter"===e.key&&(Le.current=!1),de?.(e,...t)},onSelectorRemove:ke,tokenWithEnter:$e,onMouseDown:je,components:Me}));return Ue=l.createElement(h,{ref:we,disabled:$,prefixCls:o,visible:Oe,popupElement:Ye,animation:ee,transitionName:te,popupStyle:ne,popupClassName:oe,direction:b,popupMatchSelectWidth:re,popupRender:le,popupAlign:se,placement:ae,builtinPlacements:ce,getPopupContainer:ie,empty:M,onPopupVisibleChange:ze,onPopupMouseEnter:function(){He({})},onPopupMouseDown:je,onPopupBlur:_e},Ue),l.createElement(c.Provider,{value:Fe},l.createElement(w,{visible:Se&&!Oe,values:S}),Ue)}));const J=G,Q=()=>null;Q.isSelectOptGroup=!0;const Z=Q,ee=()=>null;ee.isSelectOption=!0;const te=ee;var ne=n(33702),oe=n(84719),re=n(58168),le=n(73),se=n(40961);const ae=l.forwardRef((({height:e,offsetY:t,offsetX:n,children:o,prefixCls:r,onInnerResize:a,innerProps:c,rtl:i,extra:u},p)=>{let f={},d={display:"flex",flexDirection:"column"};return void 0!==t&&(f={height:e,position:"relative",overflow:"hidden"},d={...d,transform:`translateY(${t}px)`,[i?"marginRight":"marginLeft"]:-n,position:"absolute",left:0,right:0,top:0}),l.createElement("div",{style:f},l.createElement(le.Ay,{onResize:({offsetHeight:e})=>{e&&a&&a()}},l.createElement("div",(0,re.A)({style:d,className:(0,s.$)({[`${r}-holder-inner`]:r}),ref:p},c),o,u)))}));ae.displayName="Filler";const ce=ae;function ie({children:e,setRef:t}){const n=l.useCallback((e=>{t(e)}),[]);return l.cloneElement(e,{ref:n})}function ue(e,t,n){const[o,r]=l.useState(e),[s,a]=l.useState(null);return l.useEffect((()=>{const l=function(e,t,n){const o=e.length,r=t.length;let l,s;if(0===o&&0===r)return null;o<r?(l=e,s=t):(l=t,s=e);const a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):a}let i=null,u=1!==Math.abs(o-r);for(let e=0;e<s.length;e+=1){const t=c(l[e]);if(t!==c(s[e])){i=e,u=u||t!==c(s[e+1]);break}}return null===i?null:{index:i,multiple:u}}(o||[],e||[],t);void 0!==l?.index&&(n?.(l.index),a(e[l.index])),r(e)}),[e]),[s]}var pe=n(86533);const fe="object"==typeof navigator&&/Firefox/i.test(navigator.userAgent),de=(e,t,n,o)=>{const r=(0,l.useRef)(!1),s=(0,l.useRef)(null);const a=(0,l.useRef)({top:e,bottom:t,left:n,right:o});return a.current.top=e,a.current.bottom=t,a.current.left=n,a.current.right=o,(e,t,n=!1)=>{const o=e?t<0&&a.current.left||t>0&&a.current.right:t<0&&a.current.top||t>0&&a.current.bottom;return n&&o?(clearTimeout(s.current),r.current=!1):o&&!r.current||(clearTimeout(s.current),r.current=!0,s.current=setTimeout((()=>{r.current=!1}),50)),!r.current&&o}};function me(e,t,n,o,r,s,a){const c=(0,l.useRef)(0),i=(0,l.useRef)(null),u=(0,l.useRef)(null),p=(0,l.useRef)(!1),f=de(t,n,o,r);const d=(0,l.useRef)(null),m=(0,l.useRef)(null);return[function(t){if(!e)return;pe.A.cancel(m.current),m.current=(0,pe.A)((()=>{d.current=null}),2);const{deltaX:n,deltaY:o,shiftKey:r}=t;let l=n,h=o;("sx"===d.current||!d.current&&r&&o&&!n)&&(l=o,h=0,d.current="sx");const v=Math.abs(l),g=Math.abs(h);null===d.current&&(d.current=s&&v>g?"x":"y"),"y"===d.current?function(e,t){if(pe.A.cancel(i.current),f(!1,t))return;const n=e;n._virtualHandled||(n._virtualHandled=!0,c.current+=t,u.current=t,fe||n.preventDefault(),i.current=(0,pe.A)((()=>{const e=p.current?10:1;a(c.current*e,!1),c.current=0})))}(t,h):function(e,t){a(t,!0),fe||e.preventDefault()}(t,l)},function(t){e&&(p.current=t.detail===u.current)}]}const he=class{maps;id=0;diffRecords=new Map;constructor(){this.maps=Object.create(null)}set(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}get(e){return this.maps[e]}resetRecord(){this.diffRecords.clear()}getRecord(){return this.diffRecords}};function ve(e){const t=parseFloat(e);return isNaN(t)?0:t}const ge=14/15;function be(e){return Math.floor(e**.5)}function ye(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}const we=10;const Ee=l.forwardRef(((e,t)=>{const{prefixCls:n,rtl:o,scrollOffset:r,scrollRange:a,onStartMove:c,onStopMove:i,onScroll:u,horizontal:p,spinSize:f,containerSize:d,style:m,thumbStyle:h,showScrollBar:v}=e,[g,b]=l.useState(!1),[y,w]=l.useState(null),[E,S]=l.useState(null),x=!o,M=l.useRef(),A=l.useRef(),[C,R]=l.useState(v),O=l.useRef(),N=()=>{!0!==v&&!1!==v&&(clearTimeout(O.current),R(!0),O.current=setTimeout((()=>{R(!1)}),3e3))},$=a-d||0,P=d-f||0,D=l.useMemo((()=>{if(0===r||0===$)return 0;return r/$*P}),[r,$,P]),I=l.useRef({top:D,dragging:g,pageY:y,startTop:E});I.current={top:D,dragging:g,pageY:y,startTop:E};const L=e=>{b(!0),w(ye(e,p)),S(I.current.top),c(),e.stopPropagation(),e.preventDefault()};l.useEffect((()=>{const e=e=>{e.preventDefault()},t=M.current,n=A.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",L,{passive:!1}),()=>{t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",L)}}),[]);const k=l.useRef();k.current=$;const T=l.useRef();T.current=P,l.useEffect((()=>{if(g){let e;const t=t=>{const{dragging:n,pageY:o,startTop:r}=I.current;pe.A.cancel(e);const l=M.current.getBoundingClientRect(),s=d/(p?l.width:l.height);if(n){const n=(ye(t,p)-o)*s;let l=r;!x&&p?l-=n:l+=n;const a=k.current,c=T.current,i=c?l/c:0;let f=Math.ceil(i*a);f=Math.max(f,0),f=Math.min(f,a),e=(0,pe.A)((()=>{u(f,p)}))}},n=()=>{b(!1),i()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),pe.A.cancel(e)}}}),[g]),l.useEffect((()=>(N(),()=>{clearTimeout(O.current)})),[r]),l.useImperativeHandle(t,(()=>({delayHidden:N})));const V=`${n}-scrollbar`,_={position:"absolute",visibility:C?null:"hidden"},j={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return p?(Object.assign(_,{height:8,left:0,right:0,bottom:0}),Object.assign(j,{height:"100%",width:f,[x?"left":"right"]:D})):(Object.assign(_,{width:8,top:0,bottom:0,[x?"right":"left"]:0}),Object.assign(j,{width:"100%",height:f,top:D})),l.createElement("div",{ref:M,className:(0,s.$)(V,{[`${V}-horizontal`]:p,[`${V}-vertical`]:!p,[`${V}-visible`]:C}),style:{..._,...m},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},onMouseMove:N},l.createElement("div",{ref:A,className:(0,s.$)(`${V}-thumb`,{[`${V}-thumb-moving`]:g}),style:{...j,...h},onMouseDown:L}))})),Se=20;function xe(e=0,t=0){let n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,Se),Math.floor(n)}const Me=[],Ae={overflowY:"auto",overflowAnchor:"none"};function Ce(e,t){const{prefixCls:n="rc-virtual-list",className:o,height:r,itemHeight:a,fullHeight:c=!0,style:i,data:p,children:f,itemKey:d,virtual:m,direction:h,scrollWidth:v,component:g="div",onScroll:b,onVirtualScroll:y,onVisibleChange:w,innerProps:E,extraRender:S,styles:x,showScrollBar:M="optional",...A}=e,C=l.useCallback((e=>"function"==typeof d?d(e):e?.[d]),[d]),[O,N,$,P]=function(e,t,n){const[o,r]=l.useState(0),s=(0,l.useRef)(new Map),a=(0,l.useRef)(new he),c=(0,l.useRef)(0);function i(){c.current+=1}function u(e=!1){i();const t=()=>{let e=!1;s.current.forEach(((t,n)=>{if(t&&t.offsetParent){const{offsetHeight:o}=t,{marginTop:r,marginBottom:l}=getComputedStyle(t),s=o+ve(r)+ve(l);a.current.get(n)!==s&&(a.current.set(n,s),e=!0)}})),e&&r((e=>e+1))};if(e)t();else{c.current+=1;const e=c.current;Promise.resolve().then((()=>{e===c.current&&t()}))}}return(0,l.useEffect)((()=>i),[]),[function(o,r){const l=e(o),a=s.current.get(l);r?(s.current.set(l,r),u()):s.current.delete(l),!a!=!r&&(r?t?.(o):n?.(o))},u,a.current,o]}(C,null,null),D=!(!1===m||!r||!a),I=l.useMemo((()=>Object.values($.maps).reduce(((e,t)=>e+t),0)),[$.id,$.maps]),L=D&&p&&(Math.max(a*p.length,I)>r||!!v),k="rtl"===h,T=(0,s.$)(n,{[`${n}-rtl`]:k},o),V=p||Me,_=(0,l.useRef)(),j=(0,l.useRef)(),H=(0,l.useRef)(),[z,F]=(0,l.useState)(0),[B,K]=(0,l.useState)(0),[W,Y]=(0,l.useState)(!1),X=()=>{Y(!0)},U=()=>{Y(!1)},q={getKey:C};function G(e){F((t=>{let n;n="function"==typeof e?e(t):e;const o=function(e){let t=e;Number.isNaN($e.current)||(t=Math.min(t,$e.current));return t=Math.max(t,0),t}(n);return _.current.scrollTop=o,o}))}const J=(0,l.useRef)({start:0,end:V.length}),Q=(0,l.useRef)(),[Z]=ue(V,C);Q.current=Z;const{scrollHeight:ee,start:te,end:ne,offset:oe}=l.useMemo((()=>{if(!D)return{scrollHeight:void 0,start:0,end:V.length-1,offset:void 0};if(!L)return{scrollHeight:j.current?.offsetHeight||0,start:0,end:V.length-1,offset:void 0};let e,t,n,o=0;const l=V.length;for(let s=0;s<l;s+=1){const l=V[s],c=C(l),i=$.get(c),u=o+(void 0===i?a:i);u>=z&&void 0===e&&(e=s,t=o),u>z+r&&void 0===n&&(n=s),o=u}return void 0===e&&(e=0,t=0,n=Math.ceil(r/a)),void 0===n&&(n=V.length-1),n=Math.min(n+1,V.length-1),{scrollHeight:o,start:e,end:n,offset:t}}),[L,D,z,V,P,r]);J.current.start=te,J.current.end=ne,l.useLayoutEffect((()=>{const e=$.getRecord();if(1===e.size){const t=Array.from(e.keys())[0],n=e.get(t),o=V[te];if(o&&void 0===n){if(C(o)===t){const e=$.get(t)-a;G((t=>t+e))}}}$.resetRecord()}),[ee]);const[ae,fe]=l.useState({width:0,height:r}),Se=(0,l.useRef)(),Ce=(0,l.useRef)(),Re=l.useMemo((()=>xe(ae.width,v)),[ae.width,v]),Oe=l.useMemo((()=>xe(ae.height,ee)),[ae.height,ee]),Ne=ee-r,$e=(0,l.useRef)(Ne);$e.current=Ne;const Pe=z<=0,De=z>=Ne,Ie=B<=0,Le=B>=v,ke=de(Pe,De,Ie,Le),Te=()=>({x:k?-B:B,y:z}),Ve=(0,l.useRef)(Te()),_e=(0,u._q)((e=>{if(y){const t={...Te(),...e};Ve.current.x===t.x&&Ve.current.y===t.y||(y(t),Ve.current=t)}}));function je(e,t){const n=e;t?((0,se.flushSync)((()=>{K(n)})),_e()):G(n)}const He=e=>{let t=e;const n=v?v-ae.width:0;return t=Math.max(t,0),t=Math.min(t,n),t},ze=(0,u._q)(((e,t)=>{t?((0,se.flushSync)((()=>{K((t=>He(t+(k?-e:e))))})),_e()):G((t=>t+e))})),[Fe,Be]=me(D,Pe,De,Ie,Le,!!v,ze);!function(e,t,n){const o=(0,l.useRef)(!1),r=(0,l.useRef)(0),s=(0,l.useRef)(0),a=(0,l.useRef)(null),c=(0,l.useRef)(null);let i;const u=e=>{if(o.current){const t=Math.ceil(e.touches[0].pageX),o=Math.ceil(e.touches[0].pageY);let l=r.current-t,a=s.current-o;const i=Math.abs(l)>Math.abs(a);i?r.current=t:s.current=o;const u=n(i,i?l:a,!1,e);u&&e.preventDefault(),clearInterval(c.current),u&&(c.current=setInterval((()=>{i?l*=ge:a*=ge;const e=Math.floor(i?l:a);(!n(i,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},p=()=>{o.current=!1,i()},f=e=>{i(),1!==e.touches.length||o.current||(o.current=!0,r.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u,{passive:!1}),a.current.addEventListener("touchend",p,{passive:!0}))};i=()=>{a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",p))},(0,R.A)((()=>(e&&t.current.addEventListener("touchstart",f,{passive:!0}),()=>{t.current?.removeEventListener("touchstart",f),i(),clearInterval(c.current)})),[e])}(D,_,((e,t,n,o)=>{const r=o;return!ke(e,t,n)&&((!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),Fe({preventDefault(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),function(e,t,n){l.useEffect((()=>{const o=t.current;if(e&&o){let e,t,r=!1;const l=()=>{pe.A.cancel(e)},s=()=>{l(),e=(0,pe.A)((()=>{n(t),s()}))},a=()=>{r=!1,l()},c=e=>{if(e.target.draggable||0!==e.button)return;const t=e;t._virtualHandled||(t._virtualHandled=!0,r=!0)},i=e=>{if(r){const n=ye(e,!1),{top:r,bottom:a}=o.getBoundingClientRect();n<=r?(t=-be(r-n),s()):n>=a?(t=be(n-a),s()):l()}};return o.addEventListener("mousedown",c),o.ownerDocument.addEventListener("mouseup",a),o.ownerDocument.addEventListener("mousemove",i),o.ownerDocument.addEventListener("dragend",a),()=>{o.removeEventListener("mousedown",c),o.ownerDocument.removeEventListener("mouseup",a),o.ownerDocument.removeEventListener("mousemove",i),o.ownerDocument.removeEventListener("dragend",a),l()}}}),[e])}(L,_,(e=>{G((t=>t+e))})),(0,R.A)((()=>{function e(e){const t=Pe&&e.detail<0,n=De&&e.detail>0;!D||t||n||e.preventDefault()}const t=_.current;return t.addEventListener("wheel",Fe,{passive:!1}),t.addEventListener("DOMMouseScroll",Be,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),()=>{t.removeEventListener("wheel",Fe),t.removeEventListener("DOMMouseScroll",Be),t.removeEventListener("MozMousePixelScroll",e)}}),[D,Pe,De]),(0,R.A)((()=>{if(v){const e=He(B);K(e),_e({x:e})}}),[ae.width,v]);const Ke=()=>{Se.current?.delayHidden(),Ce.current?.delayHidden()},We=function(e,t,n,o,r,s,a,c){const i=l.useRef(),[u,p]=l.useState(null);return(0,R.A)((()=>{if(u&&u.times<we){if(!e.current)return void p((e=>({...e})));s();const{targetAlign:l,originAlign:c,index:i,offset:f}=u,d=e.current.clientHeight;let m=!1,h=l,v=null;if(d){const s=l||c;let p=0,g=0,b=0;const y=Math.min(t.length-1,i);for(let e=0;e<=y;e+=1){const l=r(t[e]);g=p;const s=n.get(l);b=g+(void 0===s?o:s),p=b}let w="top"===s?f:d-f;for(let e=y;e>=0;e-=1){const o=r(t[e]),l=n.get(o);if(void 0===l){m=!0;break}if(w-=l,w<=0)break}switch(s){case"top":v=g-f;break;case"bottom":v=b-d+f;break;default:{const{scrollTop:t}=e.current;g<t?h="top":b>t+d&&(h="bottom")}}null!==v&&a(v),v!==u.lastTop&&(m=!0)}m&&p({...u,times:u.times+1,targetAlign:h,lastTop:v})}}),[u,e.current]),e=>{if(null!=e){if(pe.A.cancel(i.current),"number"==typeof e)a(e);else if(e&&"object"==typeof e){let n;const{align:o}=e;"index"in e?({index:n}=e):n=t.findIndex((t=>r(t)===e.key));const{offset:l=0}=e;p({times:0,index:n,offset:l,originAlign:o})}}else c()}}(_,V,$,a,C,(()=>N(!0)),G,Ke);l.useImperativeHandle(t,(()=>({nativeElement:H.current,getScrollInfo:Te,scrollTo:e=>{var t;(t=e)&&"object"==typeof t&&("left"in t||"top"in t)?(void 0!==e.left&&K(He(e.left)),We(e.top)):We(e)}}))),(0,R.A)((()=>{if(w){const e=V.slice(te,ne+1);w(e,V)}}),[te,ne,V]);const Ye=function(e,t,n,o){const[r,s]=l.useMemo((()=>[new Map,[]]),[e,n.id,o]);return(l,a=l)=>{let c=r.get(l),i=r.get(a);if(void 0===c||void 0===i){const u=e.length;for(let p=s.length;p<u;p+=1){const u=e[p],f=t(u);r.set(f,p);const d=n.get(f)??o;if(s[p]=(s[p-1]||0)+d,f===l&&(c=p),f===a&&(i=p),void 0!==c&&void 0!==i)break}}return{top:s[c-1]||0,bottom:s[i]}}}(V,C,$,a),Xe=S?.({start:te,end:ne,virtual:L,offsetX:B,offsetY:oe,rtl:k,getSize:Ye}),Ue=function(e,t,n,o,r,s,a,{getKey:c}){return e.slice(t,n+1).map(((e,n)=>{const i=a(e,t+n,{style:{width:o},offsetX:r}),u=c(e);return l.createElement(ie,{key:u,setRef:t=>s(e,t)},i)}))}(V,te,ne,v,B,O,f,q);let qe=null;r&&(qe={[c?"height":"maxHeight"]:r,...Ae},D&&(qe.overflowY="hidden",v&&(qe.overflowX="hidden"),W&&(qe.pointerEvents="none")));const Ge={};return k&&(Ge.dir="rtl"),l.createElement("div",(0,re.A)({ref:H,style:{...i,position:"relative"},className:T},Ge,A),l.createElement(le.Ay,{onResize:e=>{fe({width:e.offsetWidth,height:e.offsetHeight})}},l.createElement(g,{className:`${n}-holder`,style:qe,ref:_,onScroll:function(e){const{scrollTop:t}=e.currentTarget;t!==z&&G(t),b?.(e),_e()},onMouseEnter:Ke},l.createElement(ce,{prefixCls:n,height:ee,offsetX:B,offsetY:oe,scrollWidth:v,onInnerResize:N,ref:j,innerProps:E,rtl:k,extra:Xe},Ue))),L&&ee>r&&l.createElement(Ee,{ref:Se,prefixCls:n,scrollOffset:z,scrollRange:ee,rtl:k,onScroll:je,onStartMove:X,onStopMove:U,spinSize:Oe,containerSize:ae.height,style:x?.verticalScrollBar,thumbStyle:x?.verticalScrollBarThumb,showScrollBar:M}),L&&v>ae.width&&l.createElement(Ee,{ref:Ce,prefixCls:n,scrollOffset:B,scrollRange:v,rtl:k,onScroll:je,onStartMove:X,onStopMove:U,spinSize:Re,containerSize:ae.width,horizontal:!0,style:x?.horizontalScrollBar,thumbStyle:x?.horizontalScrollBarThumb,showScrollBar:M}))}const Re=l.forwardRef(Ce);Re.displayName="List";const Oe=Re;function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ne.apply(this,arguments)}function $e(e){return"string"==typeof e||"number"==typeof e}const Pe=(e,t)=>{const{prefixCls:n,id:o,open:r,multiple:a,mode:c,searchValue:u,toggleOpen:p,notFoundContent:f,onPopupScroll:d,showScrollBar:m}=i(),{maxCount:h,flattenOptions:v,onActiveValue:b,defaultActiveFirstOption:y,onSelect:w,menuItemSelectedIcon:E,rawValues:S,fieldNames:M,virtual:A,direction:C,listHeight:R,listItemHeight:O,optionRender:N,classNames:$,styles:D}=l.useContext(P),I=`${n}-item`,L=(0,ne.A)((()=>v),[r,v],((e,t)=>t[0]&&e[1]!==t[1])),k=l.useRef(null),T=l.useMemo((()=>a&&g(h)&&S?.size>=h),[a,h,S?.size]),V=e=>{e.preventDefault()},j=e=>{k.current?.scrollTo("number"==typeof e?{index:e}:e)},H=l.useCallback((e=>"combobox"!==c&&S.has(e)),[c,[...S].toString(),S.size]),z=(e,t=1)=>{const n=L.length;for(let o=0;o<n;o+=1){const r=(e+o*t+n)%n,{group:l,data:s}=L[r]||{};if(!l&&!s?.disabled&&(H(s.value)||!T))return r}return-1},[F,B]=l.useState((()=>z(0))),W=(e,t=!1)=>{B(e);const n={source:t?"keyboard":"mouse"},o=L[e];o?b(o.value,e,n):b(null,-1,n)};(0,l.useEffect)((()=>{W(!1!==y?z(0):-1)}),[L.length,u]);const Y=l.useCallback((e=>"combobox"===c?String(e).toLowerCase()===u.toLowerCase():S.has(e)),[c,u,[...S].toString(),S.size]);(0,l.useEffect)((()=>{let e;if(!a&&r&&1===S.size){const t=Array.from(S)[0],n=L.findIndex((({data:e})=>u?String(e.value).startsWith(u):e.value===t));-1!==n&&(W(n),e=setTimeout((()=>{j(n)})))}return r&&k.current?.scrollTo(void 0),()=>clearTimeout(e)}),[r,u]);const X=e=>{void 0!==e&&w(e,{selected:!S.has(e)}),a||p(!1)};if(l.useImperativeHandle(t,(()=>({onKeyDown:e=>{const{which:t,ctrlKey:n}=e;switch(t){case K.A.N:case K.A.P:case K.A.UP:case K.A.DOWN:{let e=0;if(t===K.A.UP?e=-1:t===K.A.DOWN?e=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===K.A.N?e=1:t===K.A.P&&(e=-1)),0!==e){const t=z(F+e,e);j(t),W(t,!0)}break}case K.A.TAB:case K.A.ENTER:{const t=L[F];if(!t||t.data.disabled)return X(void 0);!T||S.has(t.value)?X(t.value):X(void 0),r&&e.preventDefault();break}case K.A.ESC:p(!1),r&&e.stopPropagation()}},onKeyUp:()=>{},scrollTo:e=>{j(e)}}))),0===L.length)return l.createElement("div",{role:"listbox",id:`${o}_list`,className:`${I}-empty`,onMouseDown:V},f);const U=Object.keys(M).map((e=>M[e])),q=e=>e.label;function G(e,t){const{group:n}=e;return{role:n?"presentation":"option",id:`${o}_list_${t}`}}const J=e=>{const t=L[e];if(!t)return null;const n=t.data||{},{value:o}=n,{group:r}=t,s=(0,x.A)(n,!0),a=q(t);return t?l.createElement("div",Ne({"aria-label":"string"!=typeof a||r?null:a},s,{key:e},G(t,e),{"aria-selected":Y(o)}),o):null},Q={role:"listbox",id:`${o}_list`};return l.createElement(l.Fragment,null,A&&l.createElement("div",Ne({},Q,{style:{height:0,width:0,overflow:"hidden"}}),J(F-1),J(F),J(F+1)),l.createElement(Oe,{itemKey:"key",ref:k,data:L,height:R,itemHeight:O,fullHeight:!1,onMouseDown:V,onScroll:d,virtual:A,direction:C,innerProps:A?null:Q,showScrollBar:m,className:$?.popup?.list,style:D?.popup?.list},((e,t)=>{const{group:n,groupOption:o,data:r,label:a,value:c}=e,{key:i}=r;if(n){const e=r.title??($e(a)?a.toString():void 0);return l.createElement("div",{className:(0,s.$)(I,`${I}-group`,r.className),title:e},void 0!==a?a:i)}const{disabled:u,title:p,children:f,style:d,className:m,...h}=r,v=(0,oe.A)(h,U),g=H(c),b=u||!g&&T,y=`${I}-option`,w=(0,s.$)(I,y,m,$?.popup?.listItem,{[`${y}-grouped`]:o,[`${y}-active`]:F===t&&!b,[`${y}-disabled`]:b,[`${y}-selected`]:g}),S=q(e),M=!E||"function"==typeof E||g,C="number"==typeof S?S:S||c;let R=$e(C)?C.toString():void 0;return void 0!==p&&(R=p),l.createElement("div",Ne({},(0,x.A)(v),A?{}:G(e,t),{"aria-selected":A?void 0:Y(c),className:w,title:R,onMouseMove:()=>{F===t||b||W(t)},onClick:()=>{b||X(c)},style:{...D?.popup?.listItem,...d}}),l.createElement("div",{className:`${y}-content`},"function"==typeof N?N(e,{index:t}):C),l.isValidElement(E)||g,M&&l.createElement(_,{className:`${I}-option-state`,customizeIcon:E,customizeIconProps:{value:c,disabled:b,isSelected:g}},g?"✓":null))})))};const De=l.forwardRef(Pe);function Ie(e,t){return D(e).join("").toUpperCase().includes(t)}var Le=n(78057),ke=n(1076);function Te(e,t=!1){return(0,ke.A)(e).map(((e,n)=>{if(!l.isValidElement(e)||!e.type)return null;const{type:{isSelectOptGroup:o},key:r,props:{children:s,...a}}=e;return t||!o?function(e){const{key:t,props:{children:n,value:o,...r}}=e;return{key:t,value:void 0!==o?o:t,children:n,...r}}(e):{key:`__RC_SELECT_GRP__${null===r?n:r}__`,label:r,...a,options:Te(s)}})).filter((e=>e))}const Ve=(e,t,n,o,r)=>l.useMemo((()=>{let l=e;!e&&(l=Te(t));const s=new Map,a=new Map,c=(e,t,n)=>{n&&"string"==typeof n&&e.set(t[n],t)},i=(e,t=!1)=>{for(let l=0;l<e.length;l+=1){const u=e[l];!u[n.options]||t?(s.set(u[n.value],u),c(a,u,n.label),o.forEach((e=>{c(a,u,e)})),c(a,u,r)):i(u[n.options],!0)}};return i(l),{options:l,valueOptions:s,labelOptions:a}}),[e,t,n,o,r]);function _e(e){const t=l.useRef();t.current=e;return l.useCallback(((...e)=>t.current(...e)),[])}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},je.apply(this,arguments)}const He=["inputValue"];const ze=l.forwardRef(((e,t)=>{const{id:n,mode:r,prefixCls:s="rc-select",backfill:a,fieldNames:c,showSearch:i,searchValue:u,onSearch:p,autoClearSearchValue:f,filterOption:d,optionFilterProp:m,filterSort:h,onSelect:g,onDeselect:w,onActive:E,popupMatchSelectWidth:S=!0,optionLabelProp:x,options:M,optionRender:A,children:C,defaultActiveFirstOption:R,menuItemSelectedIcon:O,virtual:N,direction:$,listHeight:I=200,listItemHeight:L=20,labelRender:k,value:T,defaultValue:V,labelInValue:_,onChange:j,maxCount:H,classNames:z,styles:F,...B}=e,K={searchValue:u,onSearch:p,autoClearSearchValue:f,filterOption:d,optionFilterProp:m,filterSort:h},[W,Y]=function(e,t,n){const{filterOption:o,searchValue:r,optionFilterProp:s,filterSort:a,onSearch:c,autoClearSearchValue:i}=t;return l.useMemo((()=>{const t="object"==typeof e,l={filterOption:o,searchValue:r,optionFilterProp:s,filterSort:a,onSearch:c,autoClearSearchValue:i,...t?e:{}};return[!!(t||"combobox"===n||"tags"===n||"multiple"===n&&void 0===e)||e,l]}),[n,e,o,r,s,a,c,i])}(i,K,r),{filterOption:X,searchValue:U,optionFilterProp:G,filterSort:Q,onSearch:Z,autoClearSearchValue:ee=!0}=Y,te=l.useMemo((()=>G?Array.isArray(G)?G:[G]:[]),[G]),ne=(0,Le.A)(n),oe=q(r),re=!(M||!C),le=l.useMemo((()=>(void 0!==X||"combobox"!==r)&&X),[X,r]),se=l.useMemo((()=>b(c,re)),[JSON.stringify(c),re]),[ae,ce]=(0,o.A)("",U),ie=ae||"",ue=Ve(M,C,se,te,x),{valueOptions:pe,labelOptions:fe,options:de}=ue,me=l.useCallback((e=>D(e).map((e=>{let t,n,o,r;!function(e){return!e||"object"!=typeof e}(e)?(n=e.label,t=e.value):t=e;const l=pe.get(t);return l&&(void 0===n&&(n=l?.[x||se.label]),o=l?.disabled,r=l?.title),{label:n,value:t,key:t,disabled:o,title:r}}))),[se,x,pe]),[he,ve]=(0,o.A)(V,T),ge=l.useMemo((()=>{const e=me(oe&&null===he?[]:he);return"combobox"===r&&function(e){return!e&&0!==e}(e[0]?.value)?[]:e}),[he,me,r,oe]),[be,ye]=((e,t)=>{const n=l.useRef({values:new Map,options:new Map});return[l.useMemo((()=>{const{values:o,options:r}=n.current,l=e.map((e=>void 0===e.label?{...e,label:o.get(e.value)?.label}:e)),s=new Map,a=new Map;return l.forEach((e=>{s.set(e.value,e),a.set(e.value,t.get(e.value)||r.get(e.value))})),n.current.values=s,n.current.options=a,l}),[e,t]),l.useCallback((e=>t.get(e)||n.current.options.get(e)),[t])]})(ge,pe),we=l.useMemo((()=>{if(!r&&1===be.length){const e=be[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return be.map((e=>({...e,label:("function"==typeof k?k(e):e.label)??e.value})))}),[r,be,k]),Ee=l.useMemo((()=>new Set(be.map((e=>e.value)))),[be]);l.useEffect((()=>{if("combobox"===r){const e=be[0]?.value;ce(function(e){return null!=e}(e)?String(e):"")}}),[be]);const Se=_e(((e,t)=>{const n=t??e;return{[se.value]:e,[se.label]:n}})),xe=((e,t,n,o,r)=>l.useMemo((()=>{if(!n||!1===o)return e;const{options:l,label:s,value:a}=t,c=[],i="function"==typeof o,u=n.toUpperCase(),p=i?o:(e,t)=>r&&r.length?r.some((e=>Ie(t[e],u))):t[l]?Ie(t["children"!==s?s:"label"],u):Ie(t[a],u),f=i?e=>y(e):e=>e;return e.forEach((e=>{if(e[l])if(p(n,f(e)))c.push(e);else{const t=e[l].filter((e=>p(n,f(e))));t.length&&c.push({...e,[l]:t})}else p(n,f(e))&&c.push(e)})),c}),[e,o,r,n,t]))(l.useMemo((()=>{if("tags"!==r)return de;const e=[...de];return[...be].sort(((e,t)=>e.value<t.value?-1:1)).forEach((t=>{const n=t.value;(e=>pe.has(e))(n)||e.push(Se(n,t.label))})),e}),[Se,de,pe,be,r]),se,ie,le,te),Me=l.useMemo((()=>"tags"!==r||!ie||xe.some((e=>(e=>te.length?te.some((t=>e?.[t]===ie)):e?.value===ie)(e)))||xe.some((e=>e[se.value]===ie))?xe:[Se(ie),...xe]),[Se,te,r,xe,ie,se]),Ae=e=>[...e].sort(((e,t)=>Q(e,t,{searchValue:ie}))).map((e=>Array.isArray(e.options)?{...e,options:e.options.length>0?Ae(e.options):e.options}:e)),Ce=l.useMemo((()=>Q?Ae(Me):Me),[Me,Q,ie]),Re=l.useMemo((()=>function(e,{fieldNames:t,childrenAsData:n}={}){const o=[],{label:r,value:l,options:s,groupLabel:a}=b(t,!1);return function e(t,c){Array.isArray(t)&&t.forEach((t=>{if(c||!(s in t)){const e=t[l];o.push({key:v(t,o.length),groupOption:c,data:t,label:t[r],value:e})}else{let r=t[a];void 0===r&&n&&(r=t.label),o.push({key:v(t,o.length),group:!0,data:t,label:r}),e(t[s],!0)}}))}(e,!1),o}(Ce,{fieldNames:se,childrenAsData:re})),[Ce,se,re]),Oe=e=>{const t=me(e);if(ve(t),j&&(t.length!==be.length||t.some(((e,t)=>be[t]?.value!==e?.value)))){const e=_?t.map((({label:e,value:t})=>({label:e,value:t}))):t.map((e=>e.value)),n=t.map((e=>y(ye(e.value))));j(oe?e:e[0],oe?n:n[0])}},[Ne,$e]=l.useState(null),[Pe,ke]=l.useState(0),Te=void 0!==R?R:"combobox"!==r,ze=l.useRef(),Fe=l.useCallback(((e,t,{source:n="keyboard"}={})=>{ke(t),a&&"combobox"===r&&null!==e&&"keyboard"===n&&$e(String(e));const o=Promise.resolve().then((()=>{ze.current===o&&E?.(e)}));ze.current=o}),[a,r,E]),Be=(e,t,n)=>{const o=()=>{const t=ye(e);return[_?{label:t?.[se.label],value:e}:e,y(t)]};if(t&&g){const[e,t]=o();g(e,t)}else if(!t&&w&&"clear"!==n){const[e,t]=o();w(e,t)}},Ke=_e(((e,t)=>{let n;const o=!oe||t.selected;n=o?oe?[...be,e]:[e]:be.filter((t=>t.value!==e)),Oe(n),Be(e,o),"combobox"===r?$e(""):q&&!ee||(ce(""),$e(""))})),We=l.useMemo((()=>{const e=!1!==N&&!1!==S;return{...ue,flattenOptions:Re,onActiveValue:Fe,defaultActiveFirstOption:Te,onSelect:Ke,menuItemSelectedIcon:O,rawValues:Ee,fieldNames:se,virtual:e,direction:$,listHeight:I,listItemHeight:L,childrenAsData:re,maxCount:H,optionRender:A,classNames:z,styles:F}}),[H,ue,Re,Fe,Te,Ke,O,Ee,se,N,S,$,I,L,re,A,z,F]);return l.createElement(P.Provider,{value:We},l.createElement(J,je({},B,{id:ne,prefixCls:s,ref:t,omitDomProps:He,mode:r,classNames:z,styles:F,displayValues:we,onDisplayValuesChange:(e,t)=>{Oe(e);const{type:n,values:o}=t;"remove"!==n&&"clear"!==n||o.forEach((e=>{Be(e.value,!1,n)}))},maxCount:H,direction:$,showSearch:W,searchValue:ie,onSearch:(e,t)=>{if(ce(e),$e(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&Oe(e),Z?.(e));else{const t=(e||"").trim();if(t){const e=Array.from(new Set([...Ee,t]));Oe(e),Be(t,!0),ce("")}}},autoClearSearchValue:ee,onSearchSplit:e=>{let t=e;"tags"!==r&&(t=e.map((e=>{const t=fe.get(e);return t?.value})).filter((e=>void 0!==e)));const n=Array.from(new Set([...Ee,...t]));Oe(n),n.forEach((e=>{Be(e,!0)}))},popupMatchSelectWidth:S,OptionList:De,emptyOptions:!Re.length,activeValue:Ne,activeDescendantId:`${ne}_list_${Pe}`})))}));ze.Option=te,ze.OptGroup=Z;const Fe=ze}}]);