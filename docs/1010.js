"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[1010],{81010:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var i=l(96540),r=l(46935),c=l(55163),n=l(85541);const d="Tree_container__aIZ1p",a="Tree_box__r2FXq",o="Tree_echart__AMoeM";var s=l(74848);c.Ay.registerNode("custom-node",{drawShape:(e,t)=>{if(e&&t){let i="#fff",r="#0d1b3f",c="#6e768c";switch(e.level){case 1:i="#3b4fcc",r="#fff",c="#fff";break;case 2:i="#86B6F6"}const d=t.addShape("rect",{attrs:{fill:i,stroke:i,radius:6},name:"box-shape"}),a=(0,n.gi)("【第".concat(e.level,"层】").concat(e.title),20),o=t.addShape("text",{attrs:{text:a,fontSize:6,lineHeight:9,fontWeight:500,textAlign:"left",textBaseline:"middle",fill:r},capture:!1,name:"title-shape"}),s=o.getBBox();o.attr({x:-s.width/2,y:0});const f=Math.floor((s.height-6)/9)+1;let h=s.height;f<=1?h+=4:h-=Math.ceil(4*(f-2));const u=t.addShape("text",{attrs:{text:e.code,x:-s.width/2,y:h,fontSize:6,lineHeight:9,textAlign:"left",textBaseline:"middle",fill:c},capture:!1,name:"code-shape"}).getBBox();var l;if(d.attr({x:-s.width/2-6,y:-s.height/2-6,width:s.width+12,height:Math.ceil(s.height+u.height+12+f)}),e.level>1&&e.children&&e.children.length>0)if(t.addShape("circle",{attrs:{x:0,y:h+10,r:6,fill:"#fff",stroke:"#cfd1d9",lineWidth:.5,cursor:"pointer"},name:"collapse-icon"}),null!==(l=t.cfg)&&void 0!==l&&l.item){const{collapsed:l}=t.cfg.item.getModel();t.addShape("marker",{attrs:{x:0,y:h+10,r:2,fill:"#fff",stroke:"#0d1b3f",cursor:"pointer",symbol:(e,t,l)=>[["M",e-l,t+l/2],["L",e,t-l/2],["L",e+l,t+l/2]]},visible:!l,capture:!1,name:"collapse-marker"}),t.addShape("text",{attrs:{text:e.children.length,x:0,y:h+10.5,fontSize:6,lineHeight:9,textAlign:"center",textBaseline:"middle",fill:"#0d1b3f",cursor:"pointer"},visible:!!l,capture:!1,name:"num-text"})}return d}return null},setState:(e,t,l)=>{if("collapsed"===e){const e=null==l?void 0:l.getContainer();if(e){const l=e.find((e=>"collapse-marker"===e.get("name")));null==l||l.set("visible",!t);const i=e.find((e=>"num-text"===e.get("name")));null==i||i.set("visible",t)}}}},"single-node");const f=()=>{const e=(0,i.useRef)(null),t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{(()=>{if(e.current){const l=e.current.clientWidth||500,i=e.current.clientHeight||300;t.current||(t.current=new c.Ay.TreeGraph({container:e.current,width:l,height:i,fitView:!0,fitViewPadding:80,modes:{default:["drag-canvas","zoom-canvas","drag-node"]},defaultNode:{type:"custom-node"},defaultEdge:{type:"cubic-vertical",style:{stroke:"#cfd1d9",lineWidth:1,endArrow:{path:c.Ay.Arrow.circle(2,0),d:0,fill:"#cfd1d9"}}},layout:{type:"compactBox",direction:"TB",getId:e=>e.id,getVGap:()=>22,getHGap:()=>60}}))}})(),(()=>{const e={id:"ID1",level:1,title:"这是标题这是标题这是标题这是标题这是标题",code:"1004353453453425",children:[{id:"ID11",level:2,title:"这是标题这是标题这是标题这是标题这是标题",code:"10056575674576576",children:[{id:"ID111",level:3,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657",children:[{id:"ID1111",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"},{id:"ID1112",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"}]},{id:"ID112",level:3,title:"这是标题这是标题这是标题这是标题这是标题这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657",children:[{id:"ID1121",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"},{id:"ID1122",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"},{id:"ID1123",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"}]},{id:"ID113",level:3,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657",children:[{id:"ID1131",level:4,title:"这是标题这是标题这是标题这是标题这是标题",code:"100665756756786657"}]}]}]};t.current&&(t.current.data(e),t.current.off("node:click").on("node:click",(e=>{"collapse-icon"===e.target.get("name")&&(e.item.getModel().collapsed=!e.item.getModel().collapsed,t.current.setItemState(e.item,"collapsed",e.item.getModel().collapsed),t.current.layout())})),t.current.render())})()}),[]),(0,i.useEffect)((()=>{const l=()=>{t.current&&!t.current.get("destroyed")&&e.current&&(t.current.changeSize(e.current.clientWidth,e.current.clientHeight),t.current.fitView())};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}}),[]),(0,s.jsx)("div",{className:o,ref:e})},h=[{element:(0,s.jsx)(f,{})}],u=()=>{const{setScrollTop:e}=(0,r.S)();return(0,i.useEffect)((()=>{e(0)}),[]),(0,s.jsx)("div",{className:d,children:h.map(((e,t)=>(0,s.jsx)("div",{className:a,children:e.element},t)))})}}}]);