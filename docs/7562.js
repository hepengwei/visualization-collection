"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[7562],{47562:(e,t,n)=>{n.d(t,{Q:()=>h,A:()=>D});var a=n(89893),r=n(37506),l=n(39464),s=n(76536),o=n(34164),u=n(96540),c=n(40961);function i(e,t,n){return(e-t)/(n-t)}function d(e,t,n,a){const r=i(t,n,a),l={};switch(e){case"rtl":l.right=100*r+"%",l.transform="translateX(50%)";break;case"btt":l.bottom=100*r+"%",l.transform="translateY(50%)";break;case"ttb":l.top=100*r+"%",l.transform="translateY(-50%)";break;default:l.left=100*r+"%",l.transform="translateX(-50%)"}return l}function m(e,t){return Array.isArray(e)?e[t]:e}var f=n(88558);const g=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),h=u.createContext({});function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}const p=u.forwardRef(((e,t)=>{const{prefixCls:n,value:a,valueIndex:r,onStartMove:l,onDelete:s,style:c,render:i,dragging:h,draggingDelete:p,onOffsetChange:b,onChangeComplete:y,onFocus:x,onMouseEnter:E,...C}=e,{min:k,max:M,direction:A,disabled:S,keyboard:w,range:$,tabIndex:D,ariaLabelForHandle:F,ariaLabelledByForHandle:N,ariaRequired:O,ariaValueTextFormatterForHandle:R,styles:H,classNames:L}=u.useContext(g),I=`${n}-handle`,P=e=>{S||l(e,r)},T=e=>{x?.(e,r)},j=e=>{E(e,r)},B=e=>{if(!S&&w){let t=null;switch(e.which||e.keyCode){case f.A.LEFT:t="ltr"===A||"btt"===A?-1:1;break;case f.A.RIGHT:t="ltr"===A||"btt"===A?1:-1;break;case f.A.UP:t="ttb"!==A?1:-1;break;case f.A.DOWN:t="ttb"!==A?-1:1;break;case f.A.HOME:t="min";break;case f.A.END:t="max";break;case f.A.PAGE_UP:t=2;break;case f.A.PAGE_DOWN:t=-2;break;case f.A.BACKSPACE:case f.A.DELETE:s?.(r)}null!==t&&(e.preventDefault(),b(t,r))}},V=e=>{switch(e.which||e.keyCode){case f.A.LEFT:case f.A.RIGHT:case f.A.UP:case f.A.DOWN:case f.A.HOME:case f.A.END:case f.A.PAGE_UP:case f.A.PAGE_DOWN:y?.()}},X=d(A,a,k,M);let Y={};null!==r&&(Y={tabIndex:S?null:m(D,r),role:"slider","aria-valuemin":k,"aria-valuemax":M,"aria-valuenow":a,"aria-disabled":S,"aria-label":m(F,r),"aria-labelledby":m(N,r),"aria-required":m(O,r),"aria-valuetext":m(R,r)?.(a),"aria-orientation":"ltr"===A||"rtl"===A?"horizontal":"vertical",onMouseDown:P,onTouchStart:P,onFocus:T,onMouseEnter:j,onKeyDown:B,onKeyUp:V});let G=u.createElement("div",v({ref:t,className:(0,o.$)(I,{[`${I}-${r+1}`]:null!==r&&$,[`${I}-dragging`]:h,[`${I}-dragging-delete`]:p},L.handle),style:{...X,...c,...H.handle}},Y,C));return i&&(G=i(G,{index:r,prefixCls:n,value:a,dragging:h,draggingDelete:p})),G}));function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}const y=u.forwardRef(((e,t)=>{const{prefixCls:n,style:a,onStartMove:r,onOffsetChange:l,values:s,handleRender:o,activeHandleRender:i,draggingIndex:d,draggingDelete:f,onFocus:g,...h}=e,v=u.useRef({}),[y,x]=u.useState(!1),[E,C]=u.useState(-1),k=e=>{C(e),x(!0)};u.useImperativeHandle(t,(()=>({focus:e=>{v.current[e]?.focus()},hideHelp:()=>{(0,c.flushSync)((()=>{x(!1)}))}})));const M={prefixCls:n,onStartMove:r,onOffsetChange:l,render:o,onFocus:(e,t)=>{k(t),g?.(e)},onMouseEnter:(e,t)=>{k(t)},...h};return u.createElement(u.Fragment,null,s.map(((e,t)=>{const n=d===t;return u.createElement(p,b({ref:e=>{e?v.current[t]=e:delete v.current[t]},dragging:n,draggingDelete:n&&f,style:m(a,t),key:t,value:e,valueIndex:t},M))})),i&&y&&u.createElement(p,b({key:"a11y"},M,{value:s[E],valueIndex:null,dragging:-1!==d,draggingDelete:f,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))})),x=e=>{const{prefixCls:t,style:n,children:a,value:r,onClick:l}=e,{min:s,max:c,direction:i,includedStart:m,includedEnd:f,included:h}=u.useContext(g),v=`${t}-text`,p=d(i,r,s,c);return u.createElement("span",{className:(0,o.$)(v,{[`${v}-active`]:h&&m<=r&&r<=f}),style:{...p,...n},onMouseDown:e=>{e.stopPropagation()},onClick:()=>{l(r)}},a)},E=e=>{const{prefixCls:t,marks:n,onClick:a}=e,r=`${t}-mark`;return n.length?u.createElement("div",{className:r},n.map((({value:e,style:t,label:n})=>u.createElement(x,{key:e,prefixCls:r,style:t,value:e,onClick:a},n)))):null},C=e=>{const{prefixCls:t,value:n,style:a,activeStyle:r}=e,{min:l,max:s,direction:c,included:i,includedStart:m,includedEnd:f}=u.useContext(g),h=`${t}-dot`,v=i&&m<=n&&n<=f;let p={...d(c,n,l,s),..."function"==typeof a?a(n):a};return v&&(p={...p,..."function"==typeof r?r(n):r}),u.createElement("span",{className:(0,o.$)(h,{[`${h}-active`]:v}),style:p})},k=e=>{const{prefixCls:t,marks:n,dots:a,style:r,activeStyle:l}=e,{min:s,max:o,step:c}=u.useContext(g),i=u.useMemo((()=>{const e=new Set;if(n.forEach((t=>{e.add(t.value)})),a&&null!==c){let t=s;for(;t<=o;)e.add(t),t+=c}return Array.from(e)}),[s,o,c,a,n]);return u.createElement("div",{className:`${t}-step`},i.map((e=>u.createElement(C,{prefixCls:t,key:e,value:e,style:r,activeStyle:l}))))},M=e=>{const{prefixCls:t,style:n,start:a,end:r,index:l,onStartMove:s,replaceCls:c}=e,{direction:d,min:m,max:f,disabled:h,range:v,classNames:p}=u.useContext(g),b=`${t}-track`,y=i(a,m,f),x=i(r,m,f),E=e=>{!h&&s&&s(e,-1)},C={};switch(d){case"rtl":C.right=100*y+"%",C.width=100*x-100*y+"%";break;case"btt":C.bottom=100*y+"%",C.height=100*x-100*y+"%";break;case"ttb":C.top=100*y+"%",C.height=100*x-100*y+"%";break;default:C.left=100*y+"%",C.width=100*x-100*y+"%"}const k=c||(0,o.$)(b,{[`${b}-${l+1}`]:null!==l&&v,[`${t}-track-draggable`]:s},p.track);return u.createElement("div",{className:k,style:{...C,...n},onMouseDown:E,onTouchStart:E})},A=e=>{const{prefixCls:t,style:n,values:a,startPoint:r,onStartMove:l}=e,{included:s,range:c,min:i,styles:d,classNames:f}=u.useContext(g),h=u.useMemo((()=>{if(!c){if(0===a.length)return[];const e=r??i,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}const e=[];for(let t=0;t<a.length-1;t+=1)e.push({start:a[t],end:a[t+1]});return e}),[a,c,r,i]);if(!s)return null;const v=h?.length&&(f.tracks||d.tracks)?u.createElement(M,{index:null,prefixCls:t,start:h[0].start,end:h[h.length-1].end,replaceCls:(0,o.$)(f.tracks,`${t}-tracks`),style:d.tracks}):null;return u.createElement(u.Fragment,null,v,h.map((({start:e,end:a},r)=>u.createElement(M,{index:r,prefixCls:t,style:{...m(n,r),...d.track},start:e,end:a,key:r,onStartMove:l}))))};var S=n(12847);function w(e){const t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const $=function(e,t,n,a,l,s,o,c,i,d,m){const[f,g]=u.useState(null),[v,p]=u.useState(-1),[b,y]=u.useState(!1),[x,E]=u.useState(n),[C,k]=u.useState(n),M=u.useRef(null),A=u.useRef(null),$=u.useRef(null),{onDragStart:D,onDragChange:F}=u.useContext(h);(0,S.A)((()=>{-1===v&&E(n)}),[n,v]),u.useEffect((()=>()=>{document.removeEventListener("mousemove",M.current),document.removeEventListener("mouseup",A.current),$.current&&($.current.removeEventListener("touchmove",M.current),$.current.removeEventListener("touchend",A.current))}),[]);const N=(e,t,n)=>{void 0!==t&&g(t),E(e);let a=e;n&&(a=e.filter(((e,t)=>t!==v))),o(a),F&&F({rawValues:e,deleteIndex:n?v:-1,draggingIndex:v,draggingValue:t})},O=(0,r.A)(((e,t,n)=>{if(-1===e){const e=C[0],n=C[C.length-1],r=a-e,o=l-n;let u=t*(l-a);u=Math.max(u,r),u=Math.min(u,o);const c=s(e+u);u=c-e;const i=C.map((e=>e+u));N(i)}else{const r=(l-a)*t,s=[...x];s[e]=C[e];const o=i(s,r,e,"dist");N(o.values,o.value,n)}})),R=u.useMemo((()=>{const e=[...n].sort(((e,t)=>e-t)),t=[...x].sort(((e,t)=>e-t)),a={};t.forEach((e=>{a[e]=(a[e]||0)+1})),e.forEach((e=>{a[e]=(a[e]||0)-1}));const r=d?1:0;return Object.values(a).reduce(((e,t)=>e+Math.abs(t)),0)<=r?x:n}),[n,x,d]);return[v,f,b,R,(a,r,l)=>{a.stopPropagation();const s=l||n,o=s[r];p(r),g(o),k(s),E(s),y(!1);const{pageX:u,pageY:i}=w(a);let f=!1;D&&D({rawValues:s,draggingIndex:r,draggingValue:o});const h=n=>{n.preventDefault();const{pageX:a,pageY:l}=w(n),s=a-u,o=l-i,{width:c,height:g}=e.current.getBoundingClientRect();let h,v;switch(t){case"btt":h=-o/g,v=s;break;case"ttb":h=o/g,v=s;break;case"rtl":h=-s/c,v=o;break;default:h=s/c,v=o}f=!!d&&(Math.abs(v)>130&&m<x.length),y(f),O(r,h,f)},v=e=>{e.preventDefault(),document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",h),$.current&&($.current.removeEventListener("touchmove",M.current),$.current.removeEventListener("touchend",A.current)),M.current=null,A.current=null,$.current=null,c(f),p(-1),y(!1)};document.addEventListener("mouseup",v),document.addEventListener("mousemove",h),a.currentTarget.addEventListener("touchend",v),a.currentTarget.addEventListener("touchmove",h),M.current=h,A.current=v,$.current=a.currentTarget}]};const D=u.forwardRef(((e,t)=>{const{prefixCls:n="rc-slider",className:c,style:i,classNames:d,styles:m,id:f,disabled:h=!1,keyboard:v=!0,autoFocus:p,onFocus:b,onBlur:x,min:C=0,max:M=100,step:S=1,value:w,defaultValue:D,range:F,count:N,onChange:O,onBeforeChange:R,onAfterChange:H,onChangeComplete:L,allowCross:I=!0,pushable:P=!1,reverse:T,vertical:j,included:B=!0,startPoint:V,trackStyle:X,handleStyle:Y,railStyle:G,dotStyle:_,activeDotStyle:U,marks:q,dots:z,handleRender:W,activeHandleRender:K,track:Q,tabIndex:J=0,ariaLabelForHandle:Z,ariaLabelledByForHandle:ee,ariaRequired:te,ariaValueTextFormatterForHandle:ne}=e,ae=u.useRef(null),re=u.useRef(null),le=u.useMemo((()=>j?T?"ttb":"btt":T?"rtl":"ltr"),[T,j]),[se,oe,ue,ce,ie]=function(e){return(0,u.useMemo)((()=>{if(!0===e||!e)return[!!e,!1,!1,0];const{editable:t,draggableTrack:n,minCount:a,maxCount:r}=e;return[!0,t,!t&&n,a||0,r]}),[e])}(F),de=u.useMemo((()=>isFinite(C)?C:0),[C]),me=u.useMemo((()=>isFinite(M)?M:100),[M]),fe=u.useMemo((()=>null!==S&&S<=0?1:S),[S]),ge=u.useMemo((()=>"boolean"==typeof P?!!P&&fe:P>=0&&P),[P,fe]),he=u.useMemo((()=>Object.keys(q||{}).map((e=>{const t=q[e],n={value:Number(e)};return t&&"object"==typeof t&&!u.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((({label:e})=>e||"number"==typeof e)).sort(((e,t)=>e.value-t.value))),[q]),[ve,pe]=function(e,t,n,a,r,l){const s=u.useCallback((n=>Math.max(e,Math.min(t,n))),[e,t]),o=u.useCallback((a=>{if(null!==n){const r=e+Math.round((s(a)-e)/n)*n,l=e=>(String(e).split(".")[1]||"").length,o=Math.max(l(n),l(t),l(e)),u=Number(r.toFixed(o));return e<=u&&u<=t?u:null}return null}),[n,e,t,s]),c=u.useCallback((r=>{const l=s(r),u=a.map((e=>e.value));null!==n&&u.push(o(r)),u.push(e,t);let c=u[0],i=t-e;return u.forEach((e=>{const t=Math.abs(l-e);t<=i&&(c=e,i=t)})),c}),[e,t,a,n,s,o]),i=(r,l,s,u="unit")=>{if("number"==typeof l){let c;const d=r[s],m=d+l;let f=[];a.forEach((e=>{f.push(e.value)})),f.push(e,t),f.push(o(d));const g=l>0?1:-1;"unit"===u?f.push(o(d+g*n)):f.push(o(m)),f=f.filter((e=>null!==e)).filter((e=>l<0?e<=d:e>=d)),"unit"===u&&(f=f.filter((e=>e!==d)));const h="unit"===u?d:m;c=f[0];let v=Math.abs(c-h);if(f.forEach((e=>{const t=Math.abs(e-h);t<v&&(c=e,v=t)})),void 0===c)return l<0?e:t;if("dist"===u)return c;if(Math.abs(l)>1){const e=[...r];return e[s]=c,i(e,l-g,s,u)}return c}return"min"===l?e:"max"===l?t:void 0},d=(e,t,n,a="unit")=>{const r=e[n],l=i(e,t,n,a);return{value:l,changed:l!==r}},m=e=>null===l&&0===e||"number"==typeof l&&e<l;return[c,(e,t,n,a="unit")=>{const s=e.map(c),o=s[n],u=i(s,t,n,a);if(s[n]=u,!1===r){const e=l||0;n>0&&s[n-1]!==o&&(s[n]=Math.max(s[n],s[n-1]+e)),n<s.length-1&&s[n+1]!==o&&(s[n]=Math.min(s[n],s[n+1]-e))}else if("number"==typeof l||null===l){for(let e=n+1;e<s.length;e+=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e],changed:t}=d(s,1,e))}for(let e=n;e>0;e-=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e-1],changed:t}=d(s,-1,e-1))}for(let e=s.length-1;e>0;e-=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e-1],changed:t}=d(s,-1,e-1))}for(let e=0;e<s.length-1;e+=1){let t=!0;for(;m(s[e+1]-s[e])&&t;)({value:s[e+1],changed:t}=d(s,1,e+1))}}return{value:s[n],values:s}}]}(de,me,fe,he,I,ge),[be,ye]=(0,a.A)(D,w),xe=u.useMemo((()=>{const e=null==be?[]:Array.isArray(be)?be:[be],[t=de]=e;let n=null===be?[]:[t];if(se){if(n=[...e],N||void 0===be){const e=N>=0?N+1:2;for(n=n.slice(0,e);n.length<e;)n.push(n[n.length-1]??de)}n.sort(((e,t)=>e-t))}return n.forEach(((e,t)=>{n[t]=ve(e)})),n}),[be,se,de,N,ve]),Ee=e=>se?e:e[0],Ce=(0,r.A)((e=>{const t=[...e].sort(((e,t)=>e-t));O&&!(0,l.A)(t,xe,!0)&&O(Ee(t)),ye(t)})),ke=(0,r.A)((e=>{e&&ae.current.hideHelp();const t=Ee(xe);H?.(t),(0,s.Ay)(!H,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L?.(t)})),[Me,Ae,Se,we,$e]=$(re,le,xe,de,me,ve,Ce,ke,pe,oe,ce),De=(e,t)=>{if(!h){const n=[...xe];let a=0,r=0,l=me-de;xe.forEach(((t,n)=>{const s=Math.abs(e-t);s<=l&&(l=s,a=n),t<e&&(r=n)}));let o=a;oe&&0!==l&&(!ie||xe.length<ie)?(n.splice(r+1,0,e),o=r+1):n[a]=e,se&&!xe.length&&void 0===N&&n.push(e);const u=Ee(n);R?.(u),Ce(n),t?(document.activeElement?.blur?.(),ae.current.focus(o),$e(t,o,n)):(H?.(u),(0,s.Ay)(!H,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L?.(u))}},[Fe,Ne]=u.useState(null);u.useEffect((()=>{if(null!==Fe){const e=xe.indexOf(Fe);e>=0&&ae.current.focus(e)}Ne(null)}),[Fe]);const Oe=u.useMemo((()=>(!ue||null!==fe)&&ue),[ue,fe]),Re=(0,r.A)(((e,t)=>{$e(e,t),R?.(Ee(xe))})),He=-1!==Me;u.useEffect((()=>{if(!He){const e=xe.lastIndexOf(Ae);ae.current.focus(e)}}),[He]);const Le=u.useMemo((()=>[...we].sort(((e,t)=>e-t))),[we]),[Ie,Pe]=u.useMemo((()=>se?[Le[0],Le[Le.length-1]]:[de,Le[0]]),[Le,se,de]);u.useImperativeHandle(t,(()=>({focus:()=>{ae.current.focus(0)},blur:()=>{const{activeElement:e}=document;re.current?.contains(e)&&e?.blur()}}))),u.useEffect((()=>{p&&ae.current.focus(0)}),[]);const Te=u.useMemo((()=>({min:de,max:me,direction:le,disabled:h,keyboard:v,step:fe,included:B,includedStart:Ie,includedEnd:Pe,range:se,tabIndex:J,ariaLabelForHandle:Z,ariaLabelledByForHandle:ee,ariaRequired:te,ariaValueTextFormatterForHandle:ne,styles:m||{},classNames:d||{}})),[de,me,le,h,v,fe,B,Ie,Pe,se,J,Z,ee,te,ne,m,d]);return u.createElement(g.Provider,{value:Te},u.createElement("div",{ref:re,className:(0,o.$)(n,c,{[`${n}-disabled`]:h,[`${n}-vertical`]:j,[`${n}-horizontal`]:!j,[`${n}-with-marks`]:he.length}),style:i,onMouseDown:e=>{e.preventDefault();const{width:t,height:n,left:a,top:r,bottom:l,right:s}=re.current.getBoundingClientRect(),{clientX:o,clientY:u}=e;let c;switch(le){case"btt":c=(l-u)/n;break;case"ttb":c=(u-r)/n;break;case"rtl":c=(s-o)/t;break;default:c=(o-a)/t}De(ve(de+c*(me-de)),e)},id:f},u.createElement("div",{className:(0,o.$)(`${n}-rail`,d?.rail),style:{...G,...m?.rail}}),!1!==Q&&u.createElement(A,{prefixCls:n,style:X,values:xe,startPoint:V,onStartMove:Oe?Re:void 0}),u.createElement(k,{prefixCls:n,marks:he,dots:z,style:_,activeStyle:U}),u.createElement(y,{ref:ae,prefixCls:n,style:Y,values:we,draggingIndex:Me,draggingDelete:Se,onStartMove:Re,onOffsetChange:(e,t)=>{if(!h){const n=pe(xe,e,t);R?.(Ee(xe)),Ce(n.values),Ne(n.value)}},onFocus:b,onBlur:x,handleRender:W,activeHandleRender:K,onChangeComplete:ke,onDelete:oe?e=>{if(h||!oe||xe.length<=ce)return;const t=[...xe];t.splice(e,1),R?.(Ee(t)),Ce(t);const n=Math.max(0,e-1);ae.current.hideHelp(),ae.current.focus(n)}:void 0}),u.createElement(E,{prefixCls:n,marks:he,onClick:De})))}))}}]);